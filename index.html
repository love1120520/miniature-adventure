<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Search Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            max-width: 800px;
            width: 100%;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
        }

        .game-area {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .grid-container {
            display: inline-block;
        }

        .grid {
            display: grid;
            gap: 2px;
            background: #e0e0e0;
            padding: 2px;
            border-radius: 5px;
            user-select: none;
        }

        .cell {
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .cell:hover {
            background: #f0f0f0;
        }

        .cell.selected {
            background: #ffeb3b;
        }

        .cell.found {
            background: #4caf50;
            color: white;
        }

        .words-list {
            min-width: 200px;
        }

        .words-list h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 20px;
        }

        .word-item {
            padding: 10px;
            margin: 5px 0;
            background: #f5f5f5;
            border-radius: 5px;
            transition: all 0.3s;
        }

        .word-item.found {
            background: #4caf50;
            color: white;
            text-decoration: line-through;
        }

        .completion-message {
            display: none;
            text-align: center;
            margin-top: 20px;
            padding: 20px;
            background: #4caf50;
            color: white;
            border-radius: 10px;
            animation: slideIn 0.5s ease-out;
        }

        .completion-message.show {
            display: block;
        }

        .completion-message h2 {
            margin-bottom: 15px;
        }

        #newPuzzleBtn {
            background: white;
            color: #4caf50;
            border: none;
            padding: 12px 30px;
            font-size: 16px;
            font-weight: bold;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        #newPuzzleBtn:hover {
            background: #f0f0f0;
            transform: scale(1.05);
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .cell {
                width: 30px;
                height: 30px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç Word Search Game</h1>
        <div class="game-area">
            <div class="grid-container">
                <div id="grid" class="grid"></div>
            </div>
            <div class="words-list">
                <h2>Find These Words:</h2>
                <div id="wordsList"></div>
            </div>
        </div>
        <div id="completionMessage" class="completion-message">
            <h2>üéâ Congratulations! üéâ</h2>
            <p>You found all the words!</p>
            <button id="newPuzzleBtn">Create New Puzzle</button>
        </div>
    </div>

    <script>
        class WordSearchGame {
            constructor() {
                this.gridSize = 12;
                this.words = ['JAVASCRIPT', 'PYTHON', 'CODING', 'PUZZLE', 'GAME', 'SEARCH', 'WORD', 'FUN'];
                this.grid = [];
                this.foundWords = new Set();
                this.selectedCells = [];
                this.isSelecting = false;
                this.wordPositions = [];
                
                this.init();
            }

            init() {
                this.createGrid();
                this.placeWords();
                this.fillEmptyCells();
                this.renderGrid();
                this.renderWordsList();
                this.attachEventListeners();
            }

            createGrid() {
                this.grid = Array(this.gridSize).fill(null).map(() => 
                    Array(this.gridSize).fill('')
                );
            }

            placeWords() {
                this.wordPositions = [];
                const directions = [
                    [0, 1],   // horizontal
                    [1, 0],   // vertical
                    [1, 1],   // diagonal down-right
                    [-1, 1]   // diagonal up-right
                ];

                for (const word of this.words) {
                    let placed = false;
                    let attempts = 0;
                    
                    while (!placed && attempts < 100) {
                        const direction = directions[Math.floor(Math.random() * directions.length)];
                        const row = Math.floor(Math.random() * this.gridSize);
                        const col = Math.floor(Math.random() * this.gridSize);
                        
                        if (this.canPlaceWord(word, row, col, direction)) {
                            this.placeWord(word, row, col, direction);
                            placed = true;
                        }
                        attempts++;
                    }
                }
            }

            canPlaceWord(word, row, col, [dx, dy]) {
                const endRow = row + dx * (word.length - 1);
                const endCol = col + dy * (word.length - 1);
                
                if (endRow < 0 || endRow >= this.gridSize || 
                    endCol < 0 || endCol >= this.gridSize) {
                    return false;
                }

                for (let i = 0; i < word.length; i++) {
                    const r = row + dx * i;
                    const c = col + dy * i;
                    if (this.grid[r][c] !== '' && this.grid[r][c] !== word[i]) {
                        return false;
                    }
                }
                
                return true;
            }

            placeWord(word, row, col, [dx, dy]) {
                const positions = [];
                for (let i = 0; i < word.length; i++) {
                    const r = row + dx * i;
                    const c = col + dy * i;
                    this.grid[r][c] = word[i];
                    positions.push(`${r}-${c}`);
                }
                this.wordPositions.push({ word, positions });
            }

            fillEmptyCells() {
                const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
                for (let i = 0; i < this.gridSize; i++) {
                    for (let j = 0; j < this.gridSize; j++) {
                        if (this.grid[i][j] === '') {
                            this.grid[i][j] = letters[Math.floor(Math.random() * letters.length)];
                        }
                    }
                }
            }

            renderGrid() {
                const gridElement = document.getElementById('grid');
                gridElement.style.gridTemplateColumns = `repeat(${this.gridSize}, 35px)`;
                gridElement.innerHTML = '';
                
                for (let i = 0; i < this.gridSize; i++) {
                    for (let j = 0; j < this.gridSize; j++) {
                        const cell = document.createElement('div');
                        cell.className = 'cell';
                        cell.textContent = this.grid[i][j];
                        cell.dataset.row = i;
                        cell.dataset.col = j;
                        cell.dataset.id = `${i}-${j}`;
                        gridElement.appendChild(cell);
                    }
                }
            }

            renderWordsList() {
                const wordsListElement = document.getElementById('wordsList');
                wordsListElement.innerHTML = '';
                
                this.words.forEach(word => {
                    const wordItem = document.createElement('div');
                    wordItem.className = 'word-item';
                    wordItem.textContent = word;
                    wordItem.dataset.word = word;
                    wordsListElement.appendChild(wordItem);
                });
            }

            attachEventListeners() {
                const gridElement = document.getElementById('grid');
                
                gridElement.addEventListener('mousedown', (e) => {
                    if (e.target.classList.contains('cell')) {
                        this.isSelecting = true;
                        this.selectedCells = [e.target];
                        e.target.classList.add('selected');
                    }
                });

                gridElement.addEventListener('mouseover', (e) => {
                    if (this.isSelecting && e.target.classList.contains('cell')) {
                        if (!this.selectedCells.includes(e.target)) {
                            this.selectedCells.push(e.target);
                            e.target.classList.add('selected');
                        }
                    }
                });

                document.addEventListener('mouseup', () => {
                    if (this.isSelecting) {
                        this.checkSelectedWord();
                        this.clearSelection();
                        this.isSelecting = false;
                    }
                });

                document.getElementById('newPuzzleBtn').addEventListener('click', () => {
                    this.resetGame();
                });
            }

            checkSelectedWord() {
                if (this.selectedCells.length < 2) return;

                const selectedIds = this.selectedCells.map(cell => cell.dataset.id);
                const selectedText = this.selectedCells.map(cell => cell.textContent).join('');
                const reversedText = selectedText.split('').reverse().join('');

                for (const { word, positions } of this.wordPositions) {
                    if (this.foundWords.has(word)) continue;

                    const isMatch = this.arraysEqual(selectedIds, positions) || 
                                   this.arraysEqual(selectedIds.reverse(), positions);
                    
                    if (isMatch && (selectedText === word || reversedText === word)) {
                        this.markWordAsFound(word, positions);
                        return;
                    }
                }
            }

            arraysEqual(arr1, arr2) {
                if (arr1.length !== arr2.length) return false;
                return arr1.every((val, idx) => val === arr2[idx]);
            }

            markWordAsFound(word, positions) {
                this.foundWords.add(word);
                
                positions.forEach(id => {
                    const cell = document.querySelector(`[data-id="${id}"]`);
                    if (cell) {
                        cell.classList.add('found');
                        cell.classList.remove('selected');
                    }
                });

                const wordItem = document.querySelector(`[data-word="${word}"]`);
                if (wordItem) {
                    wordItem.classList.add('found');
                }

                if (this.foundWords.size === this.words.length) {
                    this.showCompletionMessage();
                }
            }

            clearSelection() {
                this.selectedCells.forEach(cell => {
                    if (!cell.classList.contains('found')) {
                        cell.classList.remove('selected');
                    }
                });
                this.selectedCells = [];
            }

            showCompletionMessage() {
                const completionMessage = document.getElementById('completionMessage');
                completionMessage.classList.add('show');
            }

            resetGame() {
                this.foundWords.clear();
                this.selectedCells = [];
                this.isSelecting = false;
                this.wordPositions = [];
                
                document.getElementById('completionMessage').classList.remove('show');
                
                this.createGrid();
                this.placeWords();
                this.fillEmptyCells();
                this.renderGrid();
                this.renderWordsList();
                this.attachEventListeners();
            }
        }

        const game = new WordSearchGame();
    </script>
</body>
</html>
